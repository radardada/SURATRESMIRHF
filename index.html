html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Akses File</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Masuk ke File</h1>

  <div id="step1">
    <input id="codeInput" placeholder="Masukkan kode file">
    <button onclick="checkCode()">Lanjut</button>
  </div>

  <div id="step2" style="display:none;">
    <input id="passwordInput" type="password" placeholder="Masukkan password">
    <button onclick="checkPassword()">Buka File</button>
  </div>

  <div id="result"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = { / config kamu / };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    let currentFile = null;

    window.checkCode = function() {
      const code = document.getElementById("codeInput").value;
      const dbRef = ref(db);
      get(child(dbRef, 'files/' + code)).then(snapshot => {
        if (snapshot.exists()) {
          currentFile = snapshot.val();
          document.getElementById("step1").style.display = "none";
          document.getElementById("step2").style.display = "block";
        } else {
          document.getElementById("result").textContent = "Kode tidak ditemukan!";
        }
      });
    };

    window.checkPassword = function() {
      const password = document.getElementById("passwordInput").value;
      if (currentFile && password === currentFile.password) {
        if (currentFile.url.endsWith(".mp4")) {
          document.getElementById("result").innerHTML = <video src="${currentFile.url}" controls width="400"></video>;
        } else if (currentFile.url.match(/\.(jpg|png|gif)$/)) {
          document.getElementById("result").innerHTML = <img src="${currentFile.url}" width="300">;
        } else {
          document.getElementById("result").innerHTML = <a href="${currentFile.url}" target="_blank">${currentFile.name}</a>;
        }
      } else {
        document.getElementById("result").textContent = "Password salah!";
      }
    };
  </script>
</body>
</html>
